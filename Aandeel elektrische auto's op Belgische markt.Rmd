---
title: "Aandeel elektrische auto's op belgische markt"
author: "Caro Haesen"
date: "27-10-2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
nieuw <- read_xlsx("Verkoop per brandstof (België) met market share.xlsx", sheet = "Nieuw")
tweedehands <- read_xlsx("Verkoop per brandstof (België) met market share.xlsx", sheet = "Tweedehands")
summary(nieuw)
```

```{r}
ElectricMS <- nieuw %>% filter(Fuel == "elektrisch") %>% select(starts_with("MS")) %>% gather(MS12, MS13, MS14, MS15, MS16, MS17, MS18, MS19,key = "Year", value = "Market Share",na.rm = FALSE, convert = FALSE, factor_key = FALSE)
Electric <- nieuw %>% filter(Fuel == "elektrisch") %>% select(starts_with("20")) %>% gather('2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', key = "Year", value = "Cars sold",na.rm = FALSE, convert = FALSE, factor_key = FALSE)
NieuwMS <- nieuw %>% gather(MS12, MS13, MS14, MS15, MS16, MS17, MS18, MS19,key = "Year", value = "Market Share",na.rm = FALSE, convert = FALSE, factor_key = FALSE)
Nieuw <- nieuw %>% gather('2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', key = "Year", value = "Cars sold",na.rm = FALSE, convert = FALSE, factor_key = FALSE)
Electric$Year <- as.integer(Electric$Year)

```

```{r}
NieuwMS %>% ggplot(aes(x= Year, y = `Market Share`)) + geom_col(aes(fill = Fuel))
```

```{r}
Electric %>% ggplot(aes(x = Year, y = `Cars sold`)) + geom_line(color = "red", size = 1) + labs(title = "Number of electric cars sold in Belgium over the years")

```

